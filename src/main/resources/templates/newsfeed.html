<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <title>Home Page</title>
    <link rel="stylesheet" href="/static/css/styles.css">
    <link rel="icon" href="/static/images/logo.svg" type="image/svg+xml">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
<body>
<header class="header">

    <svg xmlns="http://www.w3.org/2000/svg" width="59" height="52" class="logo" viewBox="0 0 59 52" fill="none">
        <g clip-path="url(#clip0_63_36)">
            <path d="M11.2278 0.957514L7 5.2149L26.5116 24.5911L30.7394 20.3337L11.2278 0.957514Z" fill="#0500FF"/>
            <path d="M51.2428 5.24249L47 1L24.5341 23.4675L28.7769 27.71L51.2428 5.24249Z" fill="#0500FF"/>
            <path d="M58.0303 26.9999L58 21L26.2277 21.1604L26.258 27.1603L58.0303 26.9999Z" fill="#0500FF"/>
            <path d="M47.8684 46.2296L52 41.8787L28.9602 20.0002L24.8286 24.3511L47.8684 46.2296Z" fill="#0500FF"/>
            <path d="M26.0003 51.8307L32 51.7712L31.685 20.0001L25.6853 20.0595L26.0003 51.8307Z" fill="#0500FF"/>
            <path d="M33.2039 24.281L29 20L6.3301 42.2616L10.534 46.5426L33.2039 24.281Z" fill="#0500FF"/>
            <path d="M32.0272 26.9999L32 21L0.227624 21.1441L0.254831 27.144L32.0272 26.9999Z" fill="#0500FF"/>
        </g>
        <defs>
            <clipPath id="clip0_63_36">
                <rect width="59" height="52" fill="white"/>
            </clipPath>
        </defs>
    </svg>
    <svg class="logo-name" xmlns="http://www.w3.org/2000/svg" width="127" height="53" viewBox="0 0 127 53" fill="none">
        <path d="M6.61138 41.409C8.47501 41.1132 9.6139 40.8174 10.028 40.5216C10.4422 40.1962 10.6492 39.575 10.6492 38.658V14.697C6.83325 14.7562 4.79213 14.8449 4.5259 14.9633C4.25966 15.0816 4.05259 15.2147 3.90469 15.3626C3.54971 15.8359 3.12078 17.5073 2.6179 20.3767L0.354919 20.1992C0.325338 19.7554 0.310547 18.8976 0.310547 17.6256C0.310547 16.324 0.443663 14.5787 0.709896 12.3897H24.8927C25.1589 14.5787 25.292 16.324 25.292 17.6256C25.292 18.8976 25.2772 19.7554 25.2477 20.1992L22.9847 20.3767C22.4818 17.5073 22.0381 15.8359 21.6535 15.3626C21.5352 15.2147 21.3429 15.0816 21.0767 14.9633C20.8105 14.8449 18.7693 14.7562 14.9533 14.697V39.7229C14.9533 40.4033 15.2492 40.7878 15.8408 40.8766L19.2574 41.409L19.0799 43.1395H6.87762L6.61138 41.409ZM60.4569 43.1395L60.1907 41.409C61.7585 41.1428 62.7051 40.847 63.0305 40.5216C63.3855 40.1962 63.563 39.575 63.563 38.658V16.8713C63.563 15.9542 63.3855 15.333 63.0305 15.0076C62.7051 14.6822 61.7585 14.3864 60.1907 14.1202L60.4569 12.3897H71.3281L71.5056 14.1202L68.7545 14.6527C68.1629 14.771 67.8671 15.1555 67.8671 15.8063V39.7229C67.8671 40.3737 68.1629 40.7582 68.7545 40.8766L71.5056 41.409L71.3281 43.1395H60.4569ZM75.4065 43.1395L75.1403 41.409C76.7081 41.1428 77.6547 40.847 77.9801 40.5216C78.3351 40.1962 78.5125 39.575 78.5125 38.658V16.8713C78.5125 15.9542 78.3351 15.333 77.9801 15.0076C77.6547 14.6822 76.7081 14.3864 75.1403 14.1202L75.4065 12.3897H87.1207C90.3451 12.3897 92.8151 13.0405 94.5309 14.342C96.2466 15.614 97.1044 17.4037 97.1044 19.7111C97.1044 21.5451 96.6016 23.0981 95.5958 24.3701C94.6196 25.6126 93.5695 26.4113 92.4454 26.7662V27.0768C94.3386 27.4318 95.9212 28.3193 97.1932 29.7392C98.4652 31.1591 99.1012 32.8896 99.1012 34.9307C99.1012 36.9422 98.2137 38.8207 96.4389 40.566C94.6936 42.2817 92.0017 43.1395 88.3631 43.1395H75.4065ZM82.8166 26.145H85.3015C87.7271 26.145 89.502 25.6273 90.6261 24.592C91.7798 23.5271 92.3566 22.0776 92.3566 20.2435C92.3566 16.5754 90.1676 14.7414 85.7896 14.7414H82.8166V26.145ZM82.8166 38.8354C82.8166 39.6933 83.0385 40.211 83.4822 40.3885C83.9259 40.6843 84.8282 40.8322 86.1889 40.8322C89.0287 40.8322 91.0698 40.3293 92.3123 39.3235C93.5547 38.3178 94.1759 36.8683 94.1759 34.9751C94.1759 32.224 93.0666 30.3308 90.848 29.2954C89.7535 28.763 88.5111 28.4967 87.1207 28.4967H82.8166V38.8354ZM102.879 43.1395L102.613 41.409C104.181 41.1428 105.127 40.847 105.453 40.5216C105.808 40.1962 105.985 39.575 105.985 38.658V16.8713C105.985 15.9542 105.808 15.333 105.453 15.0076C105.127 14.6822 104.181 14.3864 102.613 14.1202L102.879 12.3897H123.557C123.734 13.4842 123.823 14.5787 123.823 15.6732C123.823 16.7381 123.793 17.951 123.734 19.3117L121.205 19.6223C120.791 17.5812 120.495 16.3092 120.317 15.8063C120.14 15.2739 119.933 14.9928 119.696 14.9633C118.986 14.8745 118.084 14.8153 116.989 14.7858L110.289 14.6527V26.5887H116.945C117.33 26.5887 117.803 25.5386 118.365 23.4383L119.741 23.5714C119.741 25.7309 119.77 27.2395 119.829 28.0974C119.918 28.9553 119.962 29.4729 119.962 29.6504C119.992 29.8279 120.051 30.2568 120.14 30.9372C120.258 31.6176 120.332 32.0909 120.362 32.3571L118.764 32.6233C118.291 30.9372 117.966 29.9019 117.788 29.5173C117.64 29.1327 117.463 28.9405 117.256 28.9405H110.289V40.8766L114.238 40.8322C117.581 40.8322 119.622 40.6547 120.362 40.2997C120.45 40.2406 120.51 40.211 120.539 40.211C121.042 40.0631 121.693 38.3178 122.492 34.9751L124.932 35.1969C124.962 35.6998 124.976 36.602 124.976 37.9036C124.976 39.1756 124.814 40.9209 124.488 43.1395H102.879Z" fill="black"/>
        <path d="M53.2467 43.1395L53.5129 41.409C51.9451 41.1428 50.9985 40.847 50.6731 40.5216C50.3181 40.1962 50.1406 39.575 50.1406 38.658V16.8713C50.1406 15.9542 50.3181 15.333 50.6731 15.0076C50.9985 14.6822 51.9451 14.3864 53.5129 14.1202L53.2467 12.3897H40.9112C37.746 12.3897 35.3943 13.0405 33.8561 14.342C32.3178 15.6436 31.5487 17.4037 31.5487 19.6223C31.5487 21.8409 32.1551 23.7785 33.368 25.4351C34.5808 27.062 36.2817 28.2453 38.4708 28.9848V29.2067C38.175 29.2954 37.8496 29.6208 37.4946 30.1829L31.2381 39.5898C30.7944 40.2406 30.3655 40.6843 29.9513 40.9209C29.5076 41.1576 28.7237 41.3203 27.5996 41.409L27.8658 43.1395H34.1667L42.9524 29.6504H45.8365V39.7229C45.8365 40.3737 45.5407 40.7582 44.9491 40.8766L42.5086 41.409L42.6861 43.1395H53.2467ZM45.8365 27.3874H43.3961C41.0591 27.3874 39.2991 26.8846 38.1158 25.8788C36.903 24.8434 36.2965 22.965 36.2965 20.2435C36.2965 16.5754 38.2933 14.7414 42.2868 14.7414H44.9491C45.5407 14.7414 45.8365 15.0964 45.8365 15.8063V27.3874Z" fill="black"/>
    </svg>

</header>
<div th:if="${user != null}">
    <div class="user-navbar">
        <h2 th:text="${user.first_name != null and user.last_name != null ? user.first_name + ' ' + user.last_name : 'Unknown User'}"></h2>
        <button class="sign-out-btn"><a th:href="@{/signout}" class="sign-out-link">Sign Out</a></button>
    </div>

    <div class="write-post-div">
        <form method="post" th:action="@{/user/post}" th:object="${post}">
            <input placeholder="What's on your mind?" type="text" th:field="*{postText}">
            <button class="post-button" type="submit">Post</button>
        </form>
    </div>
    <hr>

    <div class="post-parent-div">
        <br>
        <div th:each="post : ${userPosts}" class="post-div">
            <div class="first-part">
            <p th:text="'@' + ${post.author.username}"></p>
            <p class="date" th:text="${post.getPostDate().getDayOfMonth()} +' '+ ${post.getPostDate().getMonth()}+', '+${post.getPostDate().getYear()}"></p>
            </div>
            <hr>
            <div class="second-part">
                <p th:text="${post.getPostText()}"></p>
            </div>
            <hr>
            <div class="comment-input">
                <form method="post" th:action="@{/user/comment}" th:object="${comment}">
                    <input type="hidden" name="postId" th:value="${post.postId}" />
                    <input class="comment-text-input" placeholder="Post comment" type="text" th:field="*{commentText}">
                    <button class="comment-button" type="submit">Post</button>
                </form>
            </div>
            <hr>
            <div class="view-comment-div">
                <form class="comment-form" method="post" th:action="@{/post}">
                    <input type="hidden" name="postId" th:value="${post.postId}" />
                    <button type="submit"><p>View Comments</p></button>
                </form>
            </div>
        </div>
    </div>
</div>
<div th:unless="${user != null}">
    <!-- Handle the case when 'user' is null (user is not authenticated) -->
    <p class="coming-soon">You are not authenticated. Please sign in.</p>
    <meta http-equiv="refresh" th:if="${user == null}" th:content="'0;url=/signin'" />
</div>
</body>
</html>